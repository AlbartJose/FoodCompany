<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./styles/foodStyle.css">
        <title>

        </title>
        <style>
            img{
                width: 200px;
            }
        </style>

    </head>
    <body>
        
        <div id="header"></div>
        <div id="searchFood">
            <input type="text" placeholder="Search.." id="query">
        </div>

        <div class="content" id="content">

        </div>
    </body>
</html>

<script type="module">
    import myNavbar from './components/navbar.js';
    import { getData, showMeals } from './scripts/showData.js';
    var divHead = document.getElementById("header");
    divHead.innerHTML = myNavbar();
    let searchIn = document.getElementById("query");
    searchIn.addEventListener("input",function () {
        search();
    })

    function search() {
        var parent = document.getElementById("content");
        var search = document.getElementById("query").value;
        if(search.length==0){
            parent.innerHTML=null;
            return;
        }
        let response = getData(`https://www.themealdb.com/api/json/v1/1/search.php?s=${search}`)
        response.then(({ meals }) => {
            parent.innerHTML = null;
            //console.log(data);
            showMeals(meals, parent);
        });
    }
</script>
